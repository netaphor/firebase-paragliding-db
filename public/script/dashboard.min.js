function showBlipSpot(n,t){event.preventDefault();showImageModal(`https://app.stratus.org.uk/blip/graph/blip_main.php?day=${t}&tp=${n.turnPoint}`),console.log(n)}function showImageModal(n){const t=document.getElementById("carouselImages");t.innerHTML="",t.innerHTML=`<img src="${n}" class="d-block w-100" alt="Image">`;new bootstrap.Modal(document.getElementById("imageModal")).show()}function showWindSpeed(n){document.querySelectorAll("#speedUnitSelection .btn").forEach((n=>n.classList.remove("active")));event.target.classList.add("active");["windSpeedMph","windSpeedKph","windSpeedMs"].forEach((function(n){const t=document.getElementsByClassName(n);for(let n=0;n<t.length;n++)t[n].classList.add("hidden")}));const t=document.getElementsByClassName(n);for(let n=0;n<t.length;n++)t[n].classList.remove("hidden")}function setForecastRange(n){["Monday","Tuesday","Wednesday","Thursday","Friday"].forEach((t=>{const e=document.getElementsByClassName(t);for(let t=0;t<e.length;t++)n?e[t].classList.remove("hidden"):e[t].classList.add("hidden")}));document.querySelectorAll("#forecastRangeSelection .btn").forEach((n=>n.classList.remove("active"))),event&&event.target&&event.target.classList.add("active")}async function fetchFlyingPilots(){try{const n=await fetch("/pureTrack");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Error fetching flying pilots data:",n),n}}async function displayFlyingPilots(){try{const n=await fetchFlyingPilots(),t=document.getElementById("pilotsFlying");t.innerHTML='<div class="spinner-border text-secondary" role="status">\n                                    <span class="visually-hidden">Loading...</span>\n                                </div>';const e=n.flyingTracks&&Object.keys(n.flyingTracks).length>0?Object.entries(n.flyingTracks).map((([n,t])=>`\n                <div>\n                    <strong>${t.label??"Unknown Location"}</strong>\n                    <div>\n                    <span><strong>${t.totalPilots??"Unknown"}</strong> pilots, </span>\n                    <span class="flyingPilots"><strong>${t.flyingCount??"Unknown"}</strong> flying</span>\n                    <span class="notFlyingPilots"><strong>${t.notFlyingCount??"Unknown"}</strong> not flying</span>\n                    </div>\n                    <div>\n                    ${t.tracks&&t.tracks.length>0?t.tracks.map((n=>`\n                        <div>\n                        <span>${n.label??"Someone"} is at </span>\n                        <span>${n.heightFt??"?"}ft</span>\n                        </div>\n                    `)).join(""):"<p>No tracks in this section</p>"}\n                    </div>\n                </div>\n                `)).join(""):"<p>No pilots on PureTrack :(</p>";t.innerHTML=e}catch(n){console.error("Error displaying flying pilots:",n),document.getElementById("pilotsFlying").innerHTML="<p>Error loading pilot data</p>"}}setInterval((()=>{displayFlyingPilots()}),3e4),document.addEventListener("DOMContentLoaded",(()=>{displayFlyingPilots()}));